# 语义分析之引用消除

语义分析主要是由com.sun.tools.javac.comp.Attr类来完成的，这个类完成的主要任务有名称消解（name resolution）、类型检查（type check）及常量折叠（constant folding）。除此之外，语义分析还针对具体的语法树节点进行语法检查，例如针对方法内定义的一个局部变量，判断这个变量是否有非法修饰符声明；这个变量被本地类引用时，变量是否含有final修改符；这个变量在使用前是否进行了初始化；变量是否与方法内的其他变量冲突等。Attr类在检查各个语法树节点时涉及的细节众多，在阅读相关的源代码实现时很容易陷入细节的“汪洋大海”中，所以建议读者在阅读相关源代码时，着重对宏观结构进行分析，不必追究每个实现细节。本章将着重介绍名称消解，类型检查将在下一章中介绍，常量折叠很简单，不会用大量篇幅去介绍。
