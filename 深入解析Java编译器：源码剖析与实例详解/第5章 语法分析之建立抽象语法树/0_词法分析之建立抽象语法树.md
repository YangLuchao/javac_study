# 词法分析之建立抽象语法树

“前几章讲解了将Java源文件转换为Token序列的过程，也介绍了表示抽象语法树各节点的实现类，那么如何根据Token序列分析出具体的树节点，并最终形成一棵抽象语法树是语法分析的重点任务，这也是本章要重点讲解的内容。

语法分析简单来说就是接收词法分析的Token序列，然后根据文法生成一棵抽象语法树。在具体的实现过程中，可以根据建立语法树的不同方式将语法分析的过程分为自顶向下分析和自底向上分析两大类。顾名思义，自顶向下的语法分析过程就是从树的根节点到叶节点的方向建立语法树；而自底向上的语法分析过程则从叶节点出发创建语法树。Javac在具体的实现过程中，主要使用了自顶向下的LL\(1\)分析法，而自底向上则采用了运算符优先分析法。

采用LL\(1\)分析法时，Javac的语法“分析程序将从左到右顺序获取Token序列，每次只获取一个Token对象，然后产生一个句子的最左推导。LL\(1\)分析法中的第一个L表示从左到右处理输入的Token对象；第二个L表示会产生一个最左推导，括号中的“1”表示每次只读取一个Token对象即可。

在上一章中我们通过工厂类TreeMaker创建出了抽象语法树节点，并最终组成了一棵完整的抽象语法树。这一章将重点介绍Javac是如何根据Token序列来获取语法树节点信息，并最终转换为一棵完整的抽象语法树的，涉及的主要实现类为com.sun.tools.javac.parser.JavacParser。
